<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: url('images/kaka.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: Arial, sans-serif;
    }
    h1 {
      text-align: center;
      margin-top: 20px;
      color: #333;
    }
    .rectangle {
      width: 80%;
      max-width: 600px;
      height: 100px;
      background-color: #eee;
      margin: 20px auto;
      border: 1px solid #999;
      border-radius: 8px;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 200px;
    }
    .block {
      display: grid;
      grid-template-columns: repeat(2, 100px);
      grid-template-rows: repeat(6, 100px);
      gap: 10px;
      background: #fff;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .square {
      width: 100px;
      height: 100px;
      background: #ddd;
      border: 1px solid #999;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      gap: 10px;
      overflow: hidden; /* Đảm bảo ảnh không tràn ra ngoài */
    }
    .square:hover {
      background: #bbb;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      min-width: 300px;
      max-width: 400px;
      position: relative;
    }
    .close-button {
      position: absolute;
      top: 10px;
      right: 15px;
      cursor: pointer;
      font-size: 20px;
      font-weight: bold;
    }
    #personName {
      margin: 0 0 10px;
      font-size: 20px;
      font-weight: bold;
    }
    /* Thêm contenteditable vào phần thông tin để người dùng chỉnh sửa trực tiếp */
    #personInfo {
      margin: 0;
      line-height: 1.4;
      outline: none; /* Loại bỏ viền khi chỉnh sửa */
    }
    .popup-avatar {
      width: 270px;
      height: 270px;
      border-radius: 50%;
      object-fit: cover;
      display: block;
      margin: 0 auto 10px;
    }
    .avatar {
      width: 80px; /* Điều chỉnh kích thước theo ý muốn */
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      display: block;
      margin: auto; /* Canh giữa trong ô */
    }
    .square img {
      width: 100%;
      height: 100%;
      object-fit: cover; /* Cắt ảnh để vừa khít ô mà không méo */
    }
  </style>
</head>
<body>
  <!-- Chỉ còn 1 modal duy nhất -->
  <div class="modal" id="infoModal">
    <div class="modal-content">
      <span class="close-button" id="closeBtn">&times;</span>
      <img id="personImage" class="popup-avatar" src="" alt="">
      <h2 id="personName"></h2>
      <!-- Thêm contenteditable để chỉnh sửa thông tin trực tiếp -->
      <p id="personInfo" contenteditable="true"></p>
    </div>
  </div>
  
  <div class="rectangle"></div>
  
  <div class="container">
    <div class="block">
      <div class="square" data-name="Võ Thị Hoài Phương" data-info="Sinh năm 17/06/2007, là một người hiền lành, hay hỗ trợ tổ cũng như luôn nhớ những việc cần thiết để nhắc nhở tổ." data-img="images/phuong.jpg">Võ Thị Hoài Phương</div>
      <div class="square" data-name="Hoàng Thị Như Quỳnh" data-info="Sinh năm 25/12/2007, Một người không mấy siêng năng, luôn có sai sót trong khi làm việc, nhưng bạn cũng rất tự tin trong việc nêu ra ý tưởng với cả nhóm.">Hoàng Thị Như Quỳnh</div>
      <div class="square" data-name="Trần Văn Đức" data-info="Sinh năm 30/10/2007, Người tổ trưởng thứ 2 của tổ, luôn sẵn sàng hỗ trợ tổ trưởng, cùng với những ý tưởng độc đáo trong các bài thuyết trình, bạn luôn khiến cả lớp trầm trồ vì những file thuyết trình.">Trần Văn Đức</div>
      <div class="square" data-name="Bùi Bảo Bảo" data-info="Sinh năm 01/10/2007, một người có tính cách khá là ngang ngược, nhưng lại mang phong thái của 1 người lãnh đạo, những lời nói của bạn luôn rất tự nhiên và chứa đựng được sự tự tin trong đó.">Bùi Bảo Bảo</div>
      <div class="square" data-name="Ngô Hoàng Ngân" data-info="Sinh năm 07/06/2007, là người chỉnh chu nhất nhóm, những bài thuyết trình bạn luôn kiểm tra thật kĩ và sửa các lỗi sai kể cả những chi tiết nhỏ nhặt, nhờ có bạn, các bài thuyết trình của tổ đều rất thành công." data-img="images/ngân.jpg">Ngô Hoàng Ngân</div>
      <div class="square" data-name="Trần Thị Minh Ánh" data-info="Sinh năm 7/4/2007, một người khá thoải mái, tuy nhiên lại rất ngại lên bảng trình bày, lúc nào cũng làm việc gần như chỉnh chu, tuy không tham gia quá nhiều vào việc nhóm, nhưng vẫn luôn hoàn thành công việc được giao." data-img="images/minhanh.jpg">Trần Thị Minh Ánh</div>
      <div class="square" data-name="Lê Bảo Anh Thư" data-info="Sinh năm 2007, người lặng lẽ nhất tổ, hiếm khi nói chuyện, nhưng với tư cách là tổ phó của tổ, bạn làm việc cũng có tính kĩ luận và trách nhiệm." data-img="images/baothu.jpg">Nguyễn Bảo Anh Thư</div>
      <div class="square" data-name="Nguyễn Thị Thanh Thuỳ" data-info="Sinh năm 2007, dancer hoạt bát nhất của tổ, cũng rất hay đưa ra ý kiến cho các bài làm tập nhóm, những ý kiến độc đáo của bạn cũng góp phần cho các bài thuyết trình rất nhiều."><img src="images/avtthuy.jpg" class="avatar" alt="Nguyễn Thị Thanh Thuỳ"></div>
      <div class="square" data-name="Nguyễn Đặng Bảo Ngọc" data-info="Sinh năm 31/012007, có thể coi là người truyền lệnh của tổ trưởng, hầu hết các lệnh của tổ trưởng muốn được truyền lên đều sẽ được thông qua bạn, cũng như về các mặt mỹ thuật đều có sự kiểm soát của bạn." data-img="images/ngoc.jpg"><img src="images/avtngoc.jpg" class="avatar" alt="Nguyễn Đặng Bảo Ngọc"></div>
      <div class="square" data-name="Nguyễn Trần Hồng Nhung" data-info="Sinh năm 2007, học thì ích mà săn sale thì nhiều, tuy bạn giao tiếp với các bạn khác một cách bình thường, nhưng lại rất ngại đi lên bảng trình bày.">Nguyễn Trần Hồng Nhung Nhung</div>
      <div class="square" data-name="Phan Ngọc Đăng Khoa" data-info="Sinh năm 27/02/2007, là người gánh cả tổ trong mọi hoạt động làm bài nhóm, luôn đảm nhận những việc nặng nhất, là the goat của cả lớp">Phan Ngọc Đăng Khoa</div>
      <div class="square" data-name="Trống">Trống</div>
    </div>

    <!-- Các block khác giữ nguyên -->
    <div class="block">
      <div class="square" data-name="Bùi Đức Hoàng Duy" data-info="Sinh năm 12/12/2007">Bùi Đức Hoàng Duy</div>
      <div class="square" data-name="Đinh Nữ Quỳnh Mai" data-info="Sinh năm 14/042007">Đinh Nữ Quỳnh Mai</div>
      <div class="square" data-name="Văn Quý Quang" data-info="Sinh năm 9/7/2007">Văn Quý Quang</div>
      <div class="square" data-name="Hồ Gia Huệ" data-info="Sinh năm " data-img="images/hue.jpg">Hồ Gia Huệ</div>
      <div class="square" data-name="Nguyễn Hoàng Đan Nhi" data-info="Sinh năm 24/03/2007" data-img="images/nhi.jpg">Nguyễn Hoàng Đan Nhi</div>
      <div class="square" data-name="Nguyễn Anh Thư" data-info="27/11/2007" data-img="images/thu.jpg">Nguyễn Anh Thư</div>
      <div class="square" data-name="Nguyễn Ngọc Diễm" data-info="Sinh năm 26/05/2007">Nguyễn Ngọc Diễm</div>
      <div class="square" data-name="Nguyễn Cao Phong" data-info="Sinh năm 14/06/2007" data-img="images/caophong.jpg">Nguyễn Cao Phong</div>
      <div class="square" data-name="Lê Thị Ánh Tuyền" data-info="Sinh năm 2/3/2007" data-img="images/tuyen.jpg">Lê Thị Ánh Tuyền</div>
      <div class="square" data-name="Lê Anh Quân" data-info="Sinh năm 06/02/2007">Lê Anh Quân</div>
      <div class="square" data-name="Phan Nguyễn Đình Phong" data-info="Sinh năm 18/01/2007">Phan Nguyễn Đình Phong</div>
      <div class="square" data-name="Nguyễn Lê Quốc Tiên" data-info="Sinh năm 09/01/2007">Nguễn Lê Quốc Tiến</div>
    </div>
    <div class="block">
      <div class="square" data-name="Lê Phước Ninh" data-info="Sinh năm 16/01/2007" data-img="images/ninh.jpg">Lê Phước Ninh</div>
      <div class="square" data-name="Nguyễn Cao Trà My" data-info="Sinh năm 11/10/2007" data-img="images/my.jpg">Nguyễn Cao Trà My</div>
      <div class="square" data-name="Nguễn Nữ Anh Thư" data-info="Sinh năm 06/10/2007">Nguyễn Nữ Anh Thư</div>
      <div class="square" data-name="Hoàng Ngọc Diệp" data-info="Sinh năm 08/11/2007">Hoàng Ngọc Diệp</div>
      <div class="square" data-name="Trần Nguyễn Phương Oanh" data-info="Sinh năm 13/10/2007">Trần Nguyễn Phương Oanh</div>
      <div class="square" data-name="Phan Thị Thuỳ Trang" data-info="Sinh năm 27/04/2007" data-img="images/trang.jpg">Phan Thị Thuỳ Trang</div>
      <div class="square" data-name="Nguyễn Tấn Đạt" data-info="Sinh năm 16/04/2007" data-img="images/tandat.jpg">Nguyễn Tấn Đạt</div>
      <div class="square" data-name="Nguyễn Ngọc Bảo Linh" data-info="Sinh năm 28/03/2007" data-img="linh.jpg">Nguyễn Ngọc Bảo Linh</div>
      <div class="square" data-name="Võ Đại Nam" data-info="Sinh năm 6/12/2007" data-img="images/nam.jpg">Võ Đại Nam</div>
      <div class="square" data-name="Trương Vũ" data-info="Sinh năm 06/12/2007">Trương Vũ</div>
      <div class="square" data-name="Nguyễn Thanh Sơn" data-info="Sinh năm 22/10/2007">Nguyễn Thanh Sơn</div>
      <div class="square" data-name="Thái bá Trực" data-info="Sinh năm 17/02/2007" data-img="images/truc.jpg">Thái Bá Trực</div>
    </div>
    <div class="block">
      <div class="square" data-name="Vũ Trần Quỳnh Ly" data-info="Sinh năm 12/12/2007">Vũ Trần Quỳnh Ly</div>
      <div class="square" data-name="Trống">Trống</div>
      <div class="square" data-name="Ngô Phương Uyên " data-info="Sinh năm 09/07//2007">Ngô Phương Uyên</div>
      <div class="square" data-name="Dương Hồng Ánh" data-info="Sinh năm 07/05/2007">Dương Hồng Ánh</div>
      <div class="square" data-name="Nguyễn Hương Giang" data-info="Sinh năm 9/1/2007">Nguyễn Hương Giang</div>
      <div class="square" data-name="Nguyễn Ngọc Khuê" data-info="Sinh năm 15/08/2007" data-img="images/Khuê.jpg">Nguyễn Ngọc Khuê</div>
      <div class="square" data-name="Trần Nguyệt Sương" data-info="Sinh năm 1/1/2007">Trần Nguyệt Sương</div>
      <div class="square" data-name="Nguyễn Tú Uyên" data-info="Sinh năm 1/3/2007" data-img="tuuyen.jpg">Nguyễn Tú Uyên</div>
      <div class="square" data-name="Hoàng Nguyễn Nguyên Đạt" data-info="Sinh năm 1/3/2007" data-img="nguyendat.jpg">Hoàng Nguyễn Nguyên Đạt</div>
      <div class="square" data-name="Võ Hoàng Phi" data-info="Sinh năm 08/102007">Võ Hoàng Phi</div>
      <div class="square" data-name="Bạch Chí Lân" data-info="Sinh năm 31/03/2007" data-img="images/lan.jpg">Bạch Chí Lân</div>
      <div class="square" data-name="Trống">Trống</div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const squares = document.querySelectorAll('.square');
      const infoModal = document.getElementById('infoModal');
      const closeBtn = document.getElementById('closeBtn');
      const personName = document.getElementById('personName');
      const personInfo = document.getElementById('personInfo');
      const personImage = document.getElementById('personImage');
      let currentSquare = null;

      squares.forEach((sq) => {
        sq.addEventListener('click', function() {
          currentSquare = sq;
          const name = sq.getAttribute('data-name');
          const info = sq.getAttribute('data-info');
          const imgSrc = sq.getAttribute('data-img');

          if (name && info) {
            personName.textContent = name;
            personInfo.textContent = info;
            // Đảm bảo phần thông tin có thể chỉnh sửa trực tiếp
            personInfo.setAttribute('contenteditable', 'true');

            if (imgSrc) {
              personImage.src = imgSrc;
              personImage.style.display = "block";
            } else {
              personImage.style.display = "none";
            }
            infoModal.style.display = 'flex';
          }
        });
      });

      closeBtn.addEventListener('click', function () {
        // Khi đóng modal, cập nhật data-info của square hiện tại
        if (currentSquare) {
          currentSquare.setAttribute('data-info', personInfo.innerText.trim());
        }
        infoModal.style.display = 'none';
      });

      window.addEventListener('click', function (e) {
        if (e.target === infoModal) {
          if (currentSquare) {
            currentSquare.setAttribute('data-info', personInfo.innerText.trim());
          }
          infoModal.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
